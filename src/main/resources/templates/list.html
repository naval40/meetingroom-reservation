<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
    <title>Room list</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>    
	
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
</head>
<body>
	<div class="bootstrap-iso">
	 <div class="container-fluid">
	  <div class="row">
	   <div class="col-md-6 col-sm-6 col-xs-12">
	
	    <!-- Form code begins -->
	    <form method="get" action="/list">
	      <div class="form-group"> <!-- Date input -->
	        <label class="control-label" for="date">Date</label>
	        <input class="form-control" id="date" name="date" placeholder="YYYY-MM-DD" type="text" th:value="${date}"/>
	      </div>
	      <div class="form-group"> <!-- Submit button -->
	        <button class="btn btn-primary " name="submit" type="submit">Change</button>
	      </div>
	     </form>
	     <!-- Form code ends --> 
	
	    </div>
	  </div>    
	 </div>
	</div>
	
	<div th:each="data : ${reservations}" th:class="container">
		<h2 th:text="${data.key.name}"></h2>
		<table class="table ">
	    <thead class="thead-light">
	      <tr>
	        <th>Title</th>
	        <th>startTime</th>
	        <th>endTime</th>
	        <th>UserName</th>
	      </tr>
	    </thead>
	    <tbody>
	     <tr th:each="reservation : ${data.value}">
            <td th:text="${reservation.title}"></td>
            <td th:text="${reservation.startTime}"></td>
            <td th:text="${reservation.endTime}"></td>
            <td th:text="${reservation.user.name}"></td>
        </tr>
	    </tbody>
	    </table>
	</div>
	
	<div>
		<p><a href="/add" class="btn btn-secondary" role="button">Go To Add!</a></p>
	</div>
 <script>
    $(document).ready(function(){
      var date_input=$('input[name="date"]'); //our date input has the name "date"
      var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
      var options={
        format: 'yyyy-mm-dd',
        container: container,
        todayHighlight: true,
        autoclose: true,
      };
      date_input.datepicker(options);
    })
</script>

</body>
</html>
